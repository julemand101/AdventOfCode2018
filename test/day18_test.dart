// --- Day 18: Settlers of The North Pole ---
// https://adventofcode.com/2018/day/18

import 'package:test/test.dart';
import 'package:advent_of_code_2018/day18.dart';

const example = [
  '.#.#...|#.',
  '.....#|##|',
  '.|..|...#.',
  '..|#.....#',
  '#.#|||#|#|',
  '...#.||...',
  '.|....|...',
  '||...#|.#|',
  '|.||||..|.',
  '...#.|..|.',
];

const input = [
  '|...||..|....|..#..|.|..#.|......#|.||.||.|..|....',
  '.#.....#....#|||#|#..||..|.#..|....#...||.#.#|.|.|',
  '.|...|#..|||..|.#....#..|.|....|...||...#.#|...|#.',
  '.........|.|.#||.##.#|.||.|#..||..||...##.##......',
  '..|.||.#.|.|.|....||#.....|.|.||##.#|##.|....|.#..',
  '#..#|#..|#...|...#...#....#|##......#..|||#..#.#..',
  '...#.#.#|...||...|.#...||#.....|##|||.....#.#.#.|.',
  '.#..|.###|#.|.##......||..#...#.#..|#.|.##.#.#.|..',
  '..||.|.|.....###...#|...###..##|.#.#....#|..##.|.|',
  '.##..#.|.#....##...||.|#..#.####..|#..##.|...#....',
  '..#...#|..|..|.|.#|#.|.|..|..||......#|.|...##..|.',
  '..||...##|#.....#|..|..|.|.##.|.##.|#|.##|.||...#.',
  '..|.||......#...#......|......|.##...|..|.|.#...#.',
  '||#.#|...#.......#......|..|#.#.|.....#...#.|##..|',
  '.....||.|..|##.#|..#..#|..#|.##....##|.##.||...###',
  '#|..#..#....|...|.|....#.##...#..|.|..#........|#|',
  '....#.|.....##.|..##.....##..#.....|#.|.#.|.#.###.',
  '...###........|.....|..|#..#..|##..###.....#||..||',
  '#.#...#|..##...|..|||#.....|#|.......#..#.......#|',
  '#.....||||.#..##.|..|#|.#..|.......|##.|#|#....#.|',
  '#..##|...|....#.#.#.||.|..|.....#|...|....#|..##|#',
  '#..|||#..#..|..#|....#.........#...#...#...|.|...#',
  '.........|.|...#...|...#|##..#.....#.|.#..||.#...#',
  '.|#...#|...#.###.|#.||.|..#..#.####..#..||.#.#|..|',
  '.|#....||#|#|.|.|#....##..||.##|....#....#||...|.|',
  '...|....|...|.||#...#...........#..#....##|.#....|',
  '....#|#..#....|##...#..|#..#.|......|#........|#..',
  '.|..#...|..#.|.#....#....#.|...#..|........|..|...',
  '...##|....||...##...|......|#..|..#..|.........##.',
  '..##.|.#..........##.|....|##|.....|.#.#.|.....|.#',
  '#|.|.......#|..#..#.#.|..|.|.#.||#.#...|.#..|.....',
  '||.#............#...|...#..|#|..||##...#.|#|##|.#|',
  '..|..||####.|....|##.#.|...|||#..|.|.|.........##.',
  '...|....|..||.#..##||.|||#..|..#...#.##...||.|..||',
  '....|...|##...#|.|.|..#|..|#|..##.|....||..|.|.||.',
  '#..#.......|.#..#..||...#|..#.....#|#..|..|...##..',
  '#...#..##..|.#...#.....|......###|..|...||.....|..',
  '#.|..#..|#..|#|..#..||#......|#.......|.#....###..',
  '#...#||...##|.#.#|####|...|......|.#.#..|#.##...|.',
  '|.#..#....#..#.....|#..|#.|..##.#..|#|##........||',
  '#.........##..|....|#.........||..||##...||.|..|.|',
  '.#....#.......#..|#.|...|....#.#.#........##.##.|.',
  '.#.#..|.|#..|..#..###...|.#......|.|#.|.##..|.|##.',
  '..||..|.##.##|...|....#||##....#..#.|#|.|#||#..|..',
  '.......#|#||.....|.||.|##..|.|....|....|.#...#..|.',
  '#||##|.||..|##.|..|#.#.|.|....#|.#|.....|||..#.||.',
  '.||#.|#...||#.#..#..|.|#.....#.#.|#.|...#..#...#..',
  '#........|..#...|#..###.|.#|...#..#...........#.|#',
  '.|...#|....||.|...#.|..|.||##.|..#|.#|..|.#....#..',
  '||....###...#...|||.||..#.|.....||.#|..###..|....#',
];

void main() {
  group('Part One', () {
    test('Example 1', () {
      expect(solve(example, 10), equals(1147));
    });
    test('Solution', () {
      expect(solve(input, 10), equals(574590));
    });
  });
  group('Part Two', () {
    test('Solution', () {
      expect(solve(input, 1000000000), equals(183787));
    });
  });
}
